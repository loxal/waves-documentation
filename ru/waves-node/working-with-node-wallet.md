# Работа с кошельком ноды

Кошелёк, или файл wallet.dat, содержит seed, зашифрованный паролем пользователя. Наличие кошелька является обязательным условием для майнинга. Приватный ключ, которым нода подписывает сгенерированные ей блоки, формируется на основе seed.

В настоящей статье мы рассмотрим следующие сценарии работы с кошельком:

* [создание нового кошелька с нуля](#new).
* [создание кошелька с использованием имеющегося seed](#existing-seed).
* [использование имеющегося кошелька](#existing-wallet).
* [смена аккаунта у ноды](#re-create).

## Создание нового кошелька с нуля <a id="new"></a>

При запуске нода автоматически создаст кошелёк в случае, если директория, указанная в секции `wallet` [конфигурационного файла ноды](https://github.com/wavesplatform/Waves/blob/master/node/src/main/resources/application.conf) не содержит файл wallet.dat.

В процессе создания кошелька нода сгенерирует seed и запросит в консоли новый пароль, при помощи которого он будет зашифрован. Зашифрованный seed будет записан в wallet.dat. Чтобы не вводить пароль при каждом запуске ноды, рекомендуется указать его в конфигурационном файле ноды `/etc/waves/waves.conf`.

## Cоздание кошелька с использованием имеющегося seed <a id="existing-seed"></a>

Если у вас уже есть seed, укажите в секции `wallet` файла `/etc/waves/waves.conf`:

* seed в кодировке base58.
* пароль.

Если вы утратили пароль, то при запуске нода запросит новый пароль.

Для кодирования текста в кодировку base58 существует масса онлайн-конвертеров. С точки зрения безопасности разумным представляется использовать консоль [Waves IDE](https://ide.wavesplatform.com/). Чтобы закодировать seed в base58, введите в консоль

```
"your-seed-phrase".toBytes().toBase58String()
```

При необходимости измените путь к директории, в которую будет размещён сгенерированный wallet.dat. Пример секции `wallet` с рассмотренными настройками приведён ниже:

```
wallet {
    file = ${waves.directory}"/wallet/wallet.dat"
    password = "some-string-as-password"
    seed = "base58-encoded-seed"
}
```

В результате в указанной директории на основе имеющегося seed будет сгенерирован wallet.dat.

[Пример конфигурационного файла ноды](https://github.com/wavesplatform/Waves/blob/master/node/src/main/resources/application.conf)

## Использование имеющегося кошелька <a id="existing-wallet"></a>

Если у вас имеется созданный ранее файл wallet.dat, то всё, что потребуется сделать - это положить его в указанную в секции `wallet` директорию, и указать пароль к нему в параметре `password`. Никаких дополнительных действий не требуется.

## Смена аккаунта у ноды <a id="re-create"></a>

При необходимости поменять аккаунт у ноды, прежде всего потребуется удалить старый wallet.dat. После этого вы можете

* [создать новый кошелёк с нуля](#new).
* [создать кошелёк с использованием имеющегося seed](#existing-seed).
* [использовать другой кошелёк](#existing-wallet).
